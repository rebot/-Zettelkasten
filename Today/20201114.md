---
title:
slug: 
date: 2020-11-14
tags: 
public: true
---

# Raspberry Pi als PaaS - Part 2
Dit is de tweede post waarin ik op zoek ga naar een *Git repository* voor m'n notities. Zie [[20201113|Rasberry Pi als PaaS - Part 1]] voor de aanzet van de blogposts. 

## Git Repository op de Raspberry Pi
> Tip: deze [blogpost](https://dev.to/kodaman2/setting-up-raspberry-pi-as-a-git-server-230f) bevat een overzicht van te stappen om een *Git Server* op te zetten met [gitea]. De gids bevat bovendien ook een overzicht voor het configureren van een statisch lokaal ip-adres, het gebruik van no-ip,...

We installeren [gitea] volgens de beschrijvingen op [blog](https://yiqiwang.me/2020/07/10/install-gitea-on-the-raspberry-pi-3b/) van Yiqi Wang. De laatste versie van [gitea] werkt namelijk niet op de *Pi*, vandaar dat er verwezen wordt naar de blogpost.

### Uitwerking zonder [gitea]

Omdat ik [gitea] niet aan de praat kreeg wou ik manueel nieuwe repositories aanmaken.

We zijn het ondertussen zo gewoon om iets als het volgende uit te voeren:

```bash
git clone git@github.com:rebot/notes.git
```

Er wordt een SSH tunnel opgezet voor de gebruiker `git` naar de host `github.com` en de map `rebot/notes.git` dat zich bevind in de gebruikersmap van de gebruiker `git` wordt gecloned. 

Eenzelfde principe willen we opzetten op de *Pi*. Eerst en vooral dienen we een nieuwe gebruiker op te zetten. Hiervoor verwijzen we naar de installatiegids van [gitea]. We nemen bondig de kernzaken over.
1. Maak een nieuwe gebruiker `git` aan met het volgende commando:
```bash
adduser \
   --system \
   --shell /bin/bash \
   --gecos 'Git Version Control' \
   --group \
   --disabled-password \
   --home /home/git \
   git
```

2. Activeer de nieuwe gebruiker met `sudo su - git`.
3. Maak een nieuwe repository aan `mkdir -p ~/rebot/notes.git` waarbij `rebot` een gebruiker voorsteld. Zo kun je de repository wat ordelijk houden.
4. Voeg de repository toe aan je lokale copy op je computer:
```bash
git remote add origin git@raspberrypi.local:rebot/notes.git
```

[gitea]: https://gitea.io/en-us/
